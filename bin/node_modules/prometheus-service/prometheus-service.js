var Service = function(){
	this.event_handlers={};
}

Service.prototype = new function(){

	this.on = function(event_name, callback){
		if(!this.event_handlers[event_name]){
			this.event_handlers[event_name] = callback;
		}
	}

	this.emit = function(){
		var event_name = null;
		var payload = null;
		var callback = null;
		if(arguments.length ==2){
			event_name = arguments[0];
			callback = arguments[1];
		}
		if(arguments.length==3){
			event_name = arguments[0];
			payload = arguments[1];
			callback = arguments[2];	
		}
		console.log("in emit");
		console.log("callback:", callback);
		if(!this.event_handlers[event_name]){
			console.log("event ", event_name, "does not have a handler attached");
		}else{
			console.log("event handlers:", this.event_handlers)
			console.log(this.event_handlers[event_name]);
			this.event_handlers[event_name](payload, callback);
		}
	}
}

module.exports = Service;