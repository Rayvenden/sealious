module.exports = function(http_session, dispatcher, dependencies) {
	var www_server = dependencies["channel.www_server"];
	var sessionManager = dependencies["service.session_manager"];
	
	www_server.route({
		method: "POST", 
		path: "/login",
		handler: function(request, reply) {
			dispatcher.password_match(request.payload.username, request.payload.password).then(function(response){
				var sessionId = new_session(request.payload.username);
				reply("http_session: Logged in!").state('PrometheusSession', {sessionId: sessionId});
			});
		}
	});

	www_server.route({
		method: "POST",
		path: "/logout",
		handler: function(request,reply) {

		}
	});
}